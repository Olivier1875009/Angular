<div>
  <app-connection *ngIf="!isConnected" (connected)="onConnect($event)" (connected)="navbar.onNavbar($event)"
    (connected)="footer.onFooter($event)"></app-connection>

  <div>
    <header>
      <app-navbar #navbar (connected)="inventory.onInventory($event)"
        (addSearchCriteria)="inventory.applyFilters($event)" (openProfile)="profile.onProfile($event)"
        (openProfile)="inventory.onDisconnect($event)" (disconnected)=" onDisconnect($event)"
        (disconnected)="inventory.onDisconnect($event)" (disconnected)="footer.onDisconnect($event)"
        
        (openBorrows)="borrows.onBorrows($event)"
        (openBorrows)="borrowDetails.visible=false"
        (openBorrows)="inventory.closeInventory()"></app-navbar>
    </header>

    <main class="m-2">
      <app-inventory #inventory (openProfile)="profile.onProfile($event)"></app-inventory>
      <app-profile #profile (openInventory)="inventory.onInventory($event)" (openBorrow)="borrow.onBorrow($event)"
        (openFavorite)="favorite.onFavorite($event)"></app-profile>
      <app-borrow #borrow (openInventory)="inventory.onInventory($event)"></app-borrow>
      <app-favorite #favorite (openInventory)="inventory.onInventory($event)"></app-favorite>

      <app-borrows #borrows (openBorrowDetails)="borrowDetails.onBorrowDetails($event)" (openInventory)="inventory.onInventory($event)"></app-borrows>
      <app-borrow-details #borrowDetails (openBorrows)="borrows.onBorrows($event)"></app-borrow-details>


      <div *ngIf="isConnected">
        <div class="d-flex justify-content-end m-3" id="chat">
          <button class="btn btn-primary rounded-5" (click)="openChat()">
            <i class="far fa-comment-dots p-2 fs-1"></i>
          </button>
        </div>
      </div>
    </main>

    <footer>
      <app-footer #footer></app-footer>
    </footer>
  </div>
</div>